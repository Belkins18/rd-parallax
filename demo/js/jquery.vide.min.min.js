/*
      MIT License 
*/
!function(b,q,l,n){function h(a,c,e){this.element=b(a);this._defaults=p;this._name=d;a=c.lastIndexOf(".");c=c.slice(0,0>a?c.length:a);this.settings=b.extend({},p,e);this.path=c;this.init()}var d="vide",p={volume:1,playbackRate:1,muted:!0,loop:!0,autoplay:!0,position:"50% 50%",posterType:"jpg"},r=/iPad|iPhone|iPod/i.test(n.userAgent),t=/Android/i.test(n.userAgent);b[d]={lookup:[]};var u=function(a){a=a.split(" ");switch(a[0]){case "left":a[0]="0%";break;case "center":a[0]="50%";break;case "right":a[0]=
"100%"}switch(a[1]){case "top":a[1]="0";break;case "middle":a[1]="50%";break;case "bottom":a[1]="100%"}return{x:a[0],y:a[1]}};h.prototype.init=function(){var a=this;if(this.wrapper=b('<div class="vide_bg">'),this.wrapper.css({position:"absolute","z-index":0,top:0,left:0,bottom:0,right:0,overflow:"hidden","-webkit-background-size":"cover","-moz-background-size":"cover","-o-background-size":"cover","background-size":"cover","background-repeat":"no-repeat","background-position":"center center"}),"detect"===
this.settings.posterType?(b.get(this.path+".png").done(function(){a.wrapper.css("background-image","url("+a.path+".png)")}),b.get(this.path+".jpg").done(function(){a.wrapper.css("background-image","url("+a.path+".jpg)")}),b.get(this.path+".gif").done(function(){a.wrapper.css("background-image","url("+a.path+".gif)")})):a.wrapper.css("background-image","url("+a.path+"."+this.settings.posterType+")"),"static"===this.element.css("position")&&this.element.css("position","relative"),this.element.prepend(this.wrapper),
!r&&!t){this.video=b("<video><source src='"+this.path+".mp4' type='video/mp4'><source src='"+this.path+".webm' type='video/webm'><source src='"+this.path+".ogv' type='video/ogg'></video>");this.video.css("visibility","hidden");this.video.prop({autoplay:this.settings.autoplay,loop:this.settings.loop,volume:this.settings.volume,muted:this.settings.muted,playbackRate:this.settings.playbackRate});this.wrapper.append(this.video);var c=u(this.settings.position);this.video.css({margin:"auto",position:"absolute",
"z-index":1,top:c.y,left:c.x,"-webkit-transform":"translate(-"+c.x+", -"+c.y+")","-ms-transform":"translate(-"+c.x+", -"+c.y+")",transform:"translate(-"+c.x+", -"+c.y+")"});this.video.bind("loadedmetadata."+d,function(){a.video.css("visibility","visible");a.resize()});b(this.element).bind("resize."+d,function(){a.resize()})}};h.prototype.getVideoObject=function(){return this.video?this.video[0]:null};h.prototype.resize=function(){if(this.video){var a=this.video[0].videoHeight,c=this.video[0].videoWidth,
b=this.wrapper.height(),d=this.wrapper.width();this.video.css(d/c>b/a?{width:d+2,height:"auto"}:{width:"auto",height:b+2})}};h.prototype.destroy=function(){this.element.unbind(d);this.video.unbind(d);delete b[d].lookup[this.index];this.element.removeData(d);this.wrapper.remove()};b.fn[d]=function(a,c){var e;return this.each(function(){(e=b.data(this,d))&&e.destroy();e=new h(this,a,c);e.index=b[d].lookup.push(e)-1;b.data(this,d,e)}),this};b(l).ready(function(){b(q).bind("resize."+d,function(){for(var a,
c=b[d].lookup.length,e=0;c>e;e++)(a=b[d].lookup[e])&&a.resize()});b(l).find("[data-"+d+"-bg]").each(function(a,c){var e=b(c),g=e.data(d+"-options"),h=e.data(d+"-bg"),m;if(g){m={};var g=g.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,",").split(","),k,l,f;k=0;for(l=g.length;l>k;k++)g[k]=g[k].split(":"),f=g[k][1],("string"==typeof f||f instanceof String)&&(f="true"===f||("false"===f?!1:f)),("string"==typeof f||f instanceof String)&&(f=isNaN(f)?f:+f),m[g[k][0]]=f}else m={};e[d](h,m)})})}(jQuery||Zepto,
window,document,navigator);
